<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>手写 instanceof 测试</title>
</head>
<body>
  <script>
    // 手写 instanceof 实现
    function myInstanceOf (obj,ctor){
        let proto = Object.getPrototypeOf(obj); // 获取对象的原型
        let prototype = ctor.prototype; // 获取构造函数的prototype对象
        console.log("对象的原型:",proto,"构造函数:",prototype);
        while(true){
            if(proto == null) return false;
            if(proto == prototype) return true; // 找到并返回
            proto = Object.getPrototypeOf(proto); // 继续沿着原型链上查找
        }
    }

    // 测试对象
    function Car(make, model, year) {
      this.make = make;
      this.model = model;
      this.year = year;
    }

    const auto = new Car('Honda', 'Accord', 1998);

    console.log(myInstanceOf(auto, Car)); // true
    console.log(myInstanceOf(auto, Object)); // true
    console.log(myInstanceOf(auto, Array)); // false

    // 	作用：勇于判断对象的的原型proto是否出现在实例构造函数prototype的任何位置
	//  步骤：获取当前对象的原型
	// 	  获取实例的构造函数
	// 	  判断对象的原型是否与构造函数相等
	// 		若相等，直接返回true
	// 		若不等，取当前对象原型的原型，在原型链上去寻找，直到原型为null
    
        // 注意：获取原型的函数为object.getPrototypeOf()
        //     获取构造函数为 实例.prototype

 
  </script>
</body>
</html>
